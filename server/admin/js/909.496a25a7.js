"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[909],{5909:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});a(7658);var n=a(3396),l=a(9242),i=a(4870),r=a(2483),s=a(2655),o=a(7178);const p=(0,n._)("h1",null,"分类列表",-1);var u={__name:"CategoryList",setup(t){const{proxy:e}=(0,n.FN)(),a=(0,r.tv)(),u=(0,i.qj)({tableData:[]}),c=()=>{e.$http.get("rest/categories").then((t=>{u.tableData=t.data}))},d=t=>{a.push(`/categories/edit/${t._id}`)},m=t=>{s.T.confirm(`是否确定要删除分类 "${t.name}"`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{e.$http.delete(`rest/categories/${t._id}`).then((()=>{(0,o.z8)({message:"删除成功",type:"success"}),c()}))})).catch((()=>{}))};return c(),(t,e)=>{const a=(0,n.up)("el-table-column"),i=(0,n.up)("el-button"),r=(0,n.up)("el-table");return(0,n.wg)(),(0,n.iD)("div",null,[p,(0,n.Wm)(r,{data:u.tableData,style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(a,{prop:"_id",label:"ID",width:"300"}),(0,n.Wm)(a,{prop:"parent.name",label:"上级分类"}),(0,n.Wm)(a,{prop:"name",label:"分类名称"}),(0,n.Wm)(a,{fixed:"right",label:"操作",width:"120"},{default:(0,n.w5)((t=>[(0,n.Wm)(i,{link:"",type:"primary",size:"small",onClick:(0,l.iM)((e=>d(t.row)),["prevent"])},{default:(0,n.w5)((()=>[(0,n.Uk)("编辑")])),_:2},1032,["onClick"]),(0,n.Wm)(i,{link:"",type:"primary",size:"small",onClick:(0,l.iM)((e=>m(t.row)),["prevent"])},{default:(0,n.w5)((()=>[(0,n.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])}}};const c=u;var d=c}}]);
//# sourceMappingURL=909.496a25a7.js.map