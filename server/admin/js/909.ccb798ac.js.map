{"version":3,"file":"js/909.ccb798ac.js","mappings":"ySAsBI,MAAM,MAAEA,IAAUC,EAAAA,EAAAA,MAEZC,GAASC,EAAAA,EAAAA,MAGTC,GAAOC,EAAAA,EAAAA,IAAS,CAClBC,UAAW,KAITC,EAAQ,KACVP,EAAMQ,MAAMC,IAAI,mBAAmBC,MAAMC,IACrCP,EAAKE,UAAYK,EAAIP,IAAI,GAC3B,EAIAQ,EAAQC,IACVX,EAAOY,KAAM,oBAAmBD,EAAIE,MAAM,EAIxCC,EAAUH,IACZI,EAAAA,EAAAA,QACK,cAAaJ,EAAIK,QAClB,KACA,CACIC,kBAAmB,KACnBC,iBAAkB,KAClBC,KAAM,YAGbX,MAAK,KACFV,EAAMQ,MAAMc,OAAQ,mBAAkBT,EAAIE,OAAOL,MAAK,MAClDa,EAAAA,EAAAA,IAAU,CACNC,QAAS,OACTH,KAAM,YAEVd,GAAO,GACT,IAELkB,OAAM,QAAS,E,OAIpBlB,I,0vBChEJ,MAAMmB,EAAc,EAEpB,O","sources":["webpack://admin/./src/views/CategoryList.vue","webpack://admin/./src/views/CategoryList.vue?7b75"],"sourcesContent":["<template>\r\n    <div>\r\n        <h1>分类列表</h1>\r\n        <el-table :data=\"data.tableData\" style=\"width: 100%\">\r\n            <el-table-column prop=\"_id\" label=\"ID\" width=\"300\" />\r\n            <el-table-column prop=\"parent.name\" label=\"上级分类\" />\r\n            <el-table-column prop=\"name\" label=\"分类名称\" />\r\n            <el-table-column fixed=\"right\" label=\"操作\" width=\"120\">\r\n                <template #default=\"scope\">\r\n                    <el-button link type=\"primary\" size=\"small\" @click.prevent=\"edit(scope.row)\">编辑</el-button>\r\n                    <el-button link type=\"primary\" size=\"small\" @click.prevent=\"remove(scope.row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import { reactive, getCurrentInstance } from 'vue'\r\n    import { useRouter } from 'vue-router'\r\n    import { ElMessage, ElMessageBox } from 'element-plus'\r\n\r\n    const { proxy } = getCurrentInstance() // 获取当前实例\r\n\r\n    const router = useRouter() // 获取router\r\n\r\n    // 定义对象变量\r\n    const data = reactive({\r\n        tableData: []\r\n    })\r\n\r\n    // 定义列表函数\r\n    const fetch = () => {\r\n        proxy.$http.get('rest/categories').then((res)=>{\r\n            data.tableData = res.data\r\n        })\r\n    }\r\n    \r\n    // 定义编辑函数\r\n    const edit = (row) => {\r\n        router.push(`/categories/edit/${row._id}`)\r\n    }\r\n\r\n    // 定义删除函数\r\n    const remove = (row) => {\r\n        ElMessageBox.confirm(\r\n            `是否确定要删除分类 \"${row.name}\"`,\r\n            '提示',\r\n            {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning',\r\n            }\r\n        )\r\n        .then(() => {\r\n            proxy.$http.delete(`rest/categories/${row._id}`).then(()=>{\r\n                ElMessage({\r\n                    message: '删除成功',\r\n                    type: 'success',\r\n                })\r\n                fetch()\r\n            })\r\n        })\r\n        .catch(() => {})\r\n    }\r\n\r\n    // 执行函数\r\n    fetch()\r\n</script>","import script from \"./CategoryList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CategoryList.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["proxy","getCurrentInstance","router","useRouter","data","reactive","tableData","fetch","$http","get","then","res","edit","row","push","_id","remove","ElMessageBox","name","confirmButtonText","cancelButtonText","type","delete","ElMessage","message","catch","__exports__"],"sourceRoot":""}