"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[204],{5314:function(e,t,a){a.d(t,{P:function(){return n},g:function(){return s}});var l=a(5603);const n=l.Z.defaults.baseURL+"/upload",s={Authorization:`Bearer ${localStorage.token||""}`}},4204:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});a(7658);var l=a(3396),n=a(7139),s=a(4870),u=a(2483),i=a(7178),o=a(2748),r=a(5314);const d=["src"];var c={__name:"ItemEdit",props:{id:String},setup(e){const t=e,{proxy:a}=(0,l.FN)(),c=(0,u.tv)(),m=(0,s.qj)({}),p=e=>{a.$http.get(`rest/items/${e}`).then((e=>{m.name=e.data.name,m.icon=e.data.icon}))},f=e=>{m.icon=e.url},h=()=>{t.id?a.$http.put(`rest/items/${t.id}`,m).then((()=>{c.push("/items/list"),(0,i.z8)({message:"操作成功",type:"success"})})):a.$http.post("rest/items",m).then((()=>{c.push("/items/list"),(0,i.z8)({message:"操作成功",type:"success"})}))};return t.id&&p(t.id),(e,a)=>{const u=(0,l.up)("el-input"),i=(0,l.up)("el-form-item"),c=(0,l.up)("el-icon"),p=(0,l.up)("el-upload"),w=(0,l.up)("el-button"),g=(0,l.up)("el-form");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("h1",null,(0,n.zw)(t.id?"编辑":"新建")+"物品",1),(0,l.Wm)(g,{model:m,"label-width":"200px",style:{"max-width":"1000px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{label:"名称"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.name,"onUpdate:modelValue":a[0]||(a[0]=e=>m.name=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(i,{label:"图标"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"avatar-uploader",action:(0,s.SU)(r.P),headers:(0,s.SU)(r.g),"show-file-list":!1,"on-success":f},{default:(0,l.w5)((()=>[m.icon?((0,l.wg)(),(0,l.iD)("img",{key:0,src:m.icon,class:"avatar"},null,8,d)):((0,l.wg)(),(0,l.j4)(c,{key:1,class:"avatar-uploader-icon"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(o.v37))])),_:1}))])),_:1},8,["action","headers"])])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{type:"primary",onClick:h},{default:(0,l.w5)((()=>[(0,l.Uk)("提交")])),_:1})])),_:1})])),_:1},8,["model"])])}}};const m=c;var p=m}}]);
//# sourceMappingURL=204.015d5c15.js.map