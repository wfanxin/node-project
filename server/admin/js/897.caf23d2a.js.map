{"version":3,"file":"js/897.caf23d2a.js","mappings":"qUAoCI,MAAM,MAAEA,IAAUC,EAAAA,EAAAA,MAEZC,GAASC,EAAAA,EAAAA,MAGTC,GAAOC,EAAAA,EAAAA,IAAS,CAClBC,UAAW,KAITC,EAAQ,KACVP,EAAMQ,MAAMC,IAAI,cAAcC,MAAMC,IAChCP,EAAKE,UAAYK,EAAIP,IAAI,GAC3B,EAIAQ,EAAQC,IACVX,EAAOY,KAAM,eAAcD,EAAIE,MAAM,EAInCC,EAAUH,IACZI,EAAAA,EAAAA,QACK,cAAaJ,EAAIK,QAClB,KACA,CACIC,kBAAmB,KACnBC,iBAAkB,KAClBC,KAAM,YAGbX,MAAK,KACFV,EAAMQ,MAAMc,OAAQ,cAAaT,EAAIE,OAAOL,MAAK,MAC7Ca,EAAAA,EAAAA,IAAU,CACNC,QAAS,OACTH,KAAM,YAEVd,GAAO,GACT,IAELkB,OAAM,QAAS,E,OAIpBlB,I,w/BC5EJ,MAAMmB,EAAc,EAEpB,O","sources":["webpack://admin/./src/views/HeroList.vue","webpack://admin/./src/views/HeroList.vue?67a1"],"sourcesContent":["<template>\r\n    <div>\r\n        <h1>英雄列表</h1>\r\n        <el-table :data=\"data.tableData\" style=\"width: 100%\">\r\n            <el-table-column prop=\"_id\" label=\"ID\" width=\"300\" />\r\n            <el-table-column prop=\"name\" label=\"英雄名称\" />\r\n            <el-table-column prop=\"title\" label=\"称号\" />\r\n            <el-table-column prop=\"avatar\" label=\"头像\">\r\n                <template #default=\"scope\">\r\n                    <!-- <img :src=\"scope.row.avatar\" style=\"height: 50px;\"> -->\r\n                    <div class=\"demo-image__preview\">\r\n                    <el-image\r\n                        style=\"height: 50px;\"\r\n                        :src=\"scope.row.avatar\"\r\n                        :preview-src-list=\"[scope.row.avatar]\"\r\n                        :initial-index=\"1\"\r\n                        fit=\"fill\"\r\n                    />\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column fixed=\"right\" label=\"操作\" width=\"120\">\r\n                <template #default=\"scope\">\r\n                    <el-button link type=\"primary\" size=\"small\" @click.prevent=\"edit(scope.row)\">编辑</el-button>\r\n                    <el-button link type=\"primary\" size=\"small\" @click.prevent=\"remove(scope.row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import { reactive, getCurrentInstance } from 'vue'\r\n    import { useRouter } from 'vue-router'\r\n    import { ElMessage, ElMessageBox } from 'element-plus'\r\n\r\n    const { proxy } = getCurrentInstance() // 获取当前实例\r\n\r\n    const router = useRouter() // 获取router\r\n\r\n    // 定义对象变量\r\n    const data = reactive({\r\n        tableData: []\r\n    })\r\n\r\n    // 定义列表函数\r\n    const fetch = () => {\r\n        proxy.$http.get('rest/heros').then((res)=>{\r\n            data.tableData = res.data\r\n        })\r\n    }\r\n    \r\n    // 定义编辑函数\r\n    const edit = (row) => {\r\n        router.push(`/heros/edit/${row._id}`)\r\n    }\r\n\r\n    // 定义删除函数\r\n    const remove = (row) => {\r\n        ElMessageBox.confirm(\r\n            `是否确定要删除分类 \"${row.name}\"`,\r\n            '提示',\r\n            {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning',\r\n            }\r\n        )\r\n        .then(() => {\r\n            proxy.$http.delete(`rest/heros/${row._id}`).then(()=>{\r\n                ElMessage({\r\n                    message: '删除成功',\r\n                    type: 'success',\r\n                })\r\n                fetch()\r\n            })\r\n        })\r\n        .catch(() => {})\r\n    }\r\n\r\n    // 执行函数\r\n    fetch()\r\n</script>\r\n\r\n<style>\r\n    /* 解决预览在编辑下面的问题 */\r\n    .el-table .el-table__cell {\r\n        position: static !important;\r\n    }\r\n</style>","import script from \"./HeroList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HeroList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HeroList.vue?vue&type=style&index=0&id=0a21e53b&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["proxy","getCurrentInstance","router","useRouter","data","reactive","tableData","fetch","$http","get","then","res","edit","row","push","_id","remove","ElMessageBox","name","confirmButtonText","cancelButtonText","type","delete","ElMessage","message","catch","__exports__"],"sourceRoot":""}