"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[901],{3901:function(e,t,i){i.r(t),i.d(t,{default:function(){return d}});i(7658);var l=i(3396),a=i(9242),n=i(4870),r=i(2483),s=i(2655),c=i(7178);const p=(0,l._)("h1",null,"物品列表",-1),u={class:"demo-image__preview"};var m={__name:"ItemList",setup(e){const{proxy:t}=(0,l.FN)(),i=(0,r.tv)(),m=(0,n.qj)({tableData:[]}),o=()=>{t.$http.get("rest/items").then((e=>{m.tableData=e.data}))},d=e=>{i.push(`/items/edit/${e._id}`)},w=e=>{s.T.confirm(`是否确定要删除分类 "${e.name}"`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{t.$http.delete(`rest/items/${e._id}`).then((()=>{(0,c.z8)({message:"删除成功",type:"success"}),o()}))})).catch((()=>{}))};return o(),(e,t)=>{const i=(0,l.up)("el-table-column"),n=(0,l.up)("el-image"),r=(0,l.up)("el-button"),s=(0,l.up)("el-table");return(0,l.wg)(),(0,l.iD)("div",null,[p,(0,l.Wm)(s,{data:m.tableData,style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{prop:"_id",label:"ID",width:"300"}),(0,l.Wm)(i,{prop:"name",label:"物品名称"}),(0,l.Wm)(i,{prop:"icon",label:"图标"},{default:(0,l.w5)((e=>[(0,l._)("div",u,[(0,l.Wm)(n,{style:{height:"50px"},src:e.row.icon,"preview-src-list":[e.row.icon],"initial-index":1,fit:"fill"},null,8,["src","preview-src-list"])])])),_:1}),(0,l.Wm)(i,{fixed:"right",label:"操作",width:"120"},{default:(0,l.w5)((e=>[(0,l.Wm)(r,{link:"",type:"primary",size:"small",onClick:(0,a.iM)((t=>d(e.row)),["prevent"])},{default:(0,l.w5)((()=>[(0,l.Uk)("编辑")])),_:2},1032,["onClick"]),(0,l.Wm)(r,{link:"",type:"primary",size:"small",onClick:(0,a.iM)((t=>w(e.row)),["prevent"])},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])}}};const o=m;var d=o}}]);
//# sourceMappingURL=901.ef73a6a6.js.map