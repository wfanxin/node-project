"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[897],{3897:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});a(7658);var l=a(3396),i=a(9242),r=a(4870),n=a(2483),s=a(2655),p=a(7178);const o=(0,l._)("h1",null,"英雄列表",-1),u={class:"demo-image__preview"};var c={__name:"HeroList",setup(e){const{proxy:t}=(0,l.FN)(),a=(0,n.tv)(),c=(0,r.qj)({tableData:[]}),d=()=>{t.$http.get("rest/heros").then((e=>{c.tableData=e.data}))},m=e=>{a.push(`/heros/edit/${e._id}`)},h=e=>{s.T.confirm(`是否确定要删除分类 "${e.name}"`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{t.$http.delete(`rest/heros/${e._id}`).then((()=>{(0,p.z8)({message:"删除成功",type:"success"}),d()}))})).catch((()=>{}))};return d(),(e,t)=>{const a=(0,l.up)("el-table-column"),r=(0,l.up)("el-image"),n=(0,l.up)("el-button"),s=(0,l.up)("el-table");return(0,l.wg)(),(0,l.iD)("div",null,[o,(0,l.Wm)(s,{data:c.tableData,style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{prop:"_id",label:"ID",width:"300"}),(0,l.Wm)(a,{prop:"name",label:"英雄名称"}),(0,l.Wm)(a,{prop:"title",label:"称号"}),(0,l.Wm)(a,{prop:"avatar",label:"头像"},{default:(0,l.w5)((e=>[(0,l._)("div",u,[(0,l.Wm)(r,{style:{height:"50px"},src:e.row.avatar,"preview-src-list":[e.row.avatar],"initial-index":1,fit:"fill"},null,8,["src","preview-src-list"])])])),_:1}),(0,l.Wm)(a,{fixed:"right",label:"操作",width:"120"},{default:(0,l.w5)((e=>[(0,l.Wm)(n,{link:"",type:"primary",size:"small",onClick:(0,i.iM)((t=>m(e.row)),["prevent"])},{default:(0,l.w5)((()=>[(0,l.Uk)("编辑")])),_:2},1032,["onClick"]),(0,l.Wm)(n,{link:"",type:"primary",size:"small",onClick:(0,i.iM)((t=>h(e.row)),["prevent"])},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])}}};const d=c;var m=d}}]);
//# sourceMappingURL=897.fe0236d0.js.map