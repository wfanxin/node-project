"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[744],{5744:function(e,t,a){a.r(t),a.d(t,{default:function(){return i}});a(7658);var l=a(3396),n=a(7139),u=a(4870),s=a(2483),p=a(7178),d={__name:"CategoryEdit",props:{id:String},setup(e){const t=e,{proxy:a}=(0,l.FN)(),d=(0,s.tv)(),r=(0,u.qj)({}),i=(0,u.qj)({parents:[]}),o=e=>{a.$http.get(`rest/categories/${e}`).then((e=>{r.name=e.data.name,r.parent=e.data.parent}))},m=()=>{a.$http.get("rest/categories").then((e=>{i.parents=e.data}))},c=()=>{t.id?a.$http.put(`rest/categories/${t.id}`,r).then((()=>{d.push("/categories/list"),(0,p.z8)({message:"操作成功",type:"success"})})):a.$http.post("rest/categories",r).then((()=>{d.push("/categories/list"),(0,p.z8)({message:"操作成功",type:"success"})}))};return t.id&&o(t.id),m(),(e,a)=>{const u=(0,l.up)("el-option"),s=(0,l.up)("el-select"),p=(0,l.up)("el-form-item"),d=(0,l.up)("el-input"),o=(0,l.up)("el-button"),m=(0,l.up)("el-form");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("h1",null,(0,n.zw)(t.id?"编辑":"新建")+"分类",1),(0,l.Wm)(m,{model:r,"label-width":"200px",style:{"max-width":"1000px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{label:"上级分类"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{modelValue:r.parent,"onUpdate:modelValue":a[0]||(a[0]=e=>r.parent=e)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.parents,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e._id,label:e.name,value:e._id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(p,{label:"名称"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{modelValue:r.name,"onUpdate:modelValue":a[1]||(a[1]=e=>r.name=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(o,{type:"primary",onClick:c},{default:(0,l.w5)((()=>[(0,l.Uk)("提交")])),_:1})])),_:1})])),_:1},8,["model"])])}}};const r=d;var i=r}}]);
//# sourceMappingURL=744.bd44f6ed.js.map